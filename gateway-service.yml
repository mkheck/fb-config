server:
    port: ${PORT:8080}
  
  management:
    endpoints:
      web:
        exposure:
          include: "*"
  
  spring:
    rabbitmq:
      host: localhost
    redis:
      host: localhost
      port: 6379
    cloud:
      loadbalancer:
        ribbon:
          enabled: false
      stream:
        bindings:
          output:
            destination: test
            contentType: application/json
      gateway:
        discovery:
          locator:
            enabled: true
        routes:
        - id: edge
            uri: http://edge-service
            predicates:
            - Path=/edge/**
            filters:
            - RewritePath=/edge/, /
        - id: ac
            uri: http://aircraft-service
            predicates:
            - Path=/ac/**
            filters:
            - RewritePath=/ac/, /
        - id: aircraft
            uri: http://aircraft-service
            predicates:
            - Path=/aircraft
            filters:
            - name: Resilience4j
                args:
                name: fallbackcmd
                fallbackUri: forward:/favorite
            - RewritePath=/aircraft, /aircraft/favorite
  